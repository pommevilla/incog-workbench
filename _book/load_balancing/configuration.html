<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head>
  <meta charset="utf-8">
  <meta name="generator" content="quarto-0.2.72">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>RStudio Workbench Administration TESTING 2021-08.9.1444-490 â€“ Configuration</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>

  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <script src="../site_libs/quarto-nav/quarto-nav.js"></script>
  <meta name="quarto:offset" content="../">
  <script src="../site_libs/quarto-search/autocomplete.min.js"></script>
  <script src="../site_libs/quarto-search/fuse.min.js"></script>
  <script src="../site_libs/quarto-search/quarto-search.js"></script>
  <link href="../load_balancing/access_and_availability.html" rel="next">
  <link href="../load_balancing/load_balancing_vs_job_launcher.html" rel="prev">
  <script src="../site_libs/quarto-html/quarto.js"></script>
  <script src="../site_libs/quarto-html/popper.min.js"></script>
  <script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
  <script src="../site_libs/quarto-html/clipboard.min.js"></script>
  <script src="../site_libs/quarto-html/anchor.min.js"></script>
  <script src="../site_libs/quarto-html/quarto-html.js"></script>
  <link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
  <link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet">
  <script src="../site_libs/bootstrap/bootstrap.min.js"></script>
  <link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
  <link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet">
  <!-- Google Analytics -->
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-20375833-3', 'auto', {'allowLinker': true});
  ga('require', 'linker');
  ga('linker:autoLink', ['rstudio.com', 'rstudio.github.io', 'rviews.rstudio.com', 'community.rstudio.com', 'rpubs.rstudio.com', 'environments.rstudio.com', 'rstudio.org', 'dailies.rstudio.com', 'pages.rstudio.com', 'db.rstudio.com', 'solutions.rstudio.com', 'docs.rstudio.com', 'spark.rstudio.com', 'shiny.rstudio.com', 'education.rstudio.com', 'rstudio.cloud', 'shinyapps.io', 'team-admin.rstudio.com', 'blog.rstudio.com', 'support.rstudio.com', 'blogs.rstudio.com', 'keras.rstudio.com', 'swag.rstudio.com', 'tensorflow.rstudio.com', 'packagemanager.rstudio.com'] );
  ga('send', 'pageview');
  </script>
  <!-- End Google Analytics -->
</head>
<body>
<div id="quarto-search-results"></div>
<header id="quarto-header" class="headroom fixed-top">
<nav class="navbar navbar-expand-lg navbar-light bg-primary ">
    <div class="container-fluid">
  <a class="navbar-brand" href="../index.html">
    <img src="../images/RStudio-ball.svg" alt="">
    <span class="navbar-title">RStudio Workbench Administration TESTING 2021-08.9.1444-490</span>
  </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://www.rstudio.com/">Rstudio.com</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://support.rstudio.com/hc/en-us/articles/200716783-RStudio-Release-History">Release Notes</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://support.rstudio.com/hc/en-us">Help</a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/pommvilla/incog-workbench"><i class="bi-github" role="img" aria-label="Source Code">
</i> 
 </a>
  </li>  
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" href="#" id="" role="button" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi-download" role="img" aria-label="Download">
</i> 
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="">    
        <li>
    <a class="dropdown-item" href="../RStudio-Workbench-Administration-TESTING-2021-08.9.1444-490.docx"><i class="bi-file-word" role="img">
</i> 
 Download Docx</a>
  </li>  
        <li>
    <a class="dropdown-item" href="../RStudio-Workbench-Administration-TESTING-2021-08.9.1444-490.pdf"><i class="bi-file-pdf" role="img">
</i> 
 Download PDF</a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" href="#" id="" role="button" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi-share" role="img" aria-label="Share">
</i> 
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="">    
        <li>
    <a class="dropdown-item" href="https://twitter.com/intent/tweet?url=|url|"><i class="bi-twitter" role="img">
</i> 
 Twitter</a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|"><i class="bi-facebook" role="img">
</i> 
 Facebook</a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://www.linkedin.com/sharing/share-offsite/?url=|url|"><i class="bi-linkedin" role="img">
</i> 
 LinkedIn</a>
  </li>  
    </ul>
  </li>
</ul>
          <form class="d-flex mb-0">
  <input id="quarto-search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>
      </div> <!-- /navcollapse -->
  </div> <!-- /container-fluid -->
</nav>
<nav class="quarto-secondary-nav py-2 d-lg-none d-md-block " data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <div class="container-fluid d-flex justify-content-between">
    <h1 class="quarto-secondary-nav-title mb-0 fs-3 d-inline">Configuration</h1>
    <button type="button" class="quarto-btn-toggle btn d-lg-none py-0 px-1 d-inline-block border-0 ">
      <i class="bi bi-chevron-right"></i>
    </button>
  </div>
</nav>
</header>
 <!-- /navbar/sidebar -->
<div class="container-fluid quarto-container d-flex flex-column page-layout-article">
<div class="row flex-fill" id="quarto-content">
  <div id="quarto-sidebar" class="col col-12 col-lg-3 d-lg-flex px-0 pt-0 sidebar collapse sidebar-navigation">
    <nav class="me-lg-auto py-2 docked  overflow-scroll">
  <div class="sidebar-menu-container"> 
  <ul class="list-unstyled mt-1 px-3">
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
            <a class="sidebar-section-item d-inline-flex text-start w-100 collapsed" data-bs-toggle="collapse" data-bs-target="#gettingstarted-collapse" aria-expanded="false">
              <div class="me-auto  sidebar-section-item">Getting Started</div>
            <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
        </div>
      <div class="collapse  " id="gettingstarted-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../index.html" class=""><span class="chapter-number">1</span>&nbsp; Introduction</a>
</li>
          <li class="sidebar-item">
  <a href="../getting_started/installation.html" class=""><span class="chapter-number">2</span>&nbsp; Installation</a>
</li>
          <li class="sidebar-item">
  <a href="../getting_started/management_script.html" class=""><span class="chapter-number">3</span>&nbsp; Management Script</a>
</li>
          <li class="sidebar-item">
  <a href="../getting_started/accessing_the_server.html" class=""><span class="chapter-number">4</span>&nbsp; Accessing the Server</a>
</li>
          <li class="sidebar-item">
  <a href="../getting_started/support.html" class=""><span class="chapter-number">5</span>&nbsp; Support</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
            <a class="sidebar-section-item d-inline-flex text-start w-100 collapsed" data-bs-toggle="collapse" data-bs-target="#servermanagement-collapse" aria-expanded="false">
              <div class="me-auto  sidebar-section-item">Server Management</div>
            <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
        </div>
      <div class="collapse  " id="servermanagement-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../server_management/server_management.html" class=""><span class="chapter-number">6</span>&nbsp; Overview</a>
</li>
          <li class="sidebar-item">
  <a href="../server_management/core_administrative_tasks.html" class=""><span class="chapter-number">7</span>&nbsp; Core Administrative Tasks</a>
</li>
          <li class="sidebar-item">
  <a href="../server_management/logging.html" class=""><span class="chapter-number">8</span>&nbsp; Logging</a>
</li>
          <li class="sidebar-item">
  <a href="../server_management/administrative_dashboard.html" class=""><span class="chapter-number">9</span>&nbsp; Administrative Dashboard</a>
</li>
          <li class="sidebar-item">
  <a href="../server_management/automated_crash_reporting.html" class=""><span class="chapter-number">10</span>&nbsp; Automated Crash Reporting</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
            <a class="sidebar-section-item d-inline-flex text-start w-100 collapsed" data-bs-toggle="collapse" data-bs-target="#authenticatingusers-collapse" aria-expanded="false">
              <div class="me-auto  sidebar-section-item">Authenticating Users</div>
            <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
        </div>
      <div class="collapse  " id="authenticatingusers-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../authenticating_users/authenticating_users.html" class=""><span class="chapter-number">11</span>&nbsp; Overview</a>
</li>
          <li class="sidebar-item">
  <a href="../authenticating_users/customizing_signin.html" class=""><span class="chapter-number">12</span>&nbsp; Customizing the Sign-In Page</a>
</li>
          <li class="sidebar-item">
  <a href="../authenticating_users/user_provisioning.html" class=""><span class="chapter-number">13</span>&nbsp; User Provisioning</a>
</li>
          <li class="sidebar-item">
  <a href="../authenticating_users/restricting_access.html" class=""><span class="chapter-number">14</span>&nbsp; Restricting Access to Specific Users</a>
</li>
          <li class="sidebar-item">
  <a href="../authenticating_users/authorization_timeout.html" class=""><span class="chapter-number">15</span>&nbsp; Authorization Timeout</a>
</li>
          <li class="sidebar-item">
  <a href="../authenticating_users/pam_authentication.html" class=""><span class="chapter-number">16</span>&nbsp; PAM Authentication</a>
</li>
          <li class="sidebar-item">
  <a href="../authenticating_users/saml_sso.html" class=""><span class="chapter-number">17</span>&nbsp; SAML Single Sign-On (SSO) Authentication</a>
</li>
          <li class="sidebar-item">
  <a href="../authenticating_users/openid_connect_authentication.html" class=""><span class="chapter-number">18</span>&nbsp; OpenID Connect Authentication</a>
</li>
          <li class="sidebar-item">
  <a href="../authenticating_users/proxied_authentication.html" class=""><span class="chapter-number">19</span>&nbsp; Proxied Authentication</a>
</li>
          <li class="sidebar-item">
  <a href="../authenticating_users/google_accounts.html" class=""><span class="chapter-number">20</span>&nbsp; Google Accounts (deprecated)</a>
</li>
          <li class="sidebar-item">
  <a href="../authenticating_users/authentication_migration.html" class=""><span class="chapter-number">21</span>&nbsp; Authentication Migration</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
            <a class="sidebar-section-item d-inline-flex text-start w-100 collapsed" data-bs-toggle="collapse" data-bs-target="#accessandsecurity-collapse" aria-expanded="false">
              <div class="me-auto  sidebar-section-item">Access and Security</div>
            <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
        </div>
      <div class="collapse  " id="accessandsecurity-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../access_and_security/access_and_security.html" class=""><span class="chapter-number">22</span>&nbsp; Overview</a>
</li>
          <li class="sidebar-item">
  <a href="../access_and_security/network_port_and_address.html" class=""><span class="chapter-number">23</span>&nbsp; Network Port and Address</a>
</li>
          <li class="sidebar-item">
  <a href="../access_and_security/security_considerations.html" class=""><span class="chapter-number">24</span>&nbsp; Security Considerations</a>
</li>
          <li class="sidebar-item">
  <a href="../access_and_security/secure_sockets.html" class=""><span class="chapter-number">25</span>&nbsp; Secure Sockets (SSL)</a>
</li>
          <li class="sidebar-item">
  <a href="../access_and_security/cookies.html" class=""><span class="chapter-number">26</span>&nbsp; Cookies</a>
</li>
          <li class="sidebar-item">
  <a href="../access_and_security/server_permissions.html" class=""><span class="chapter-number">27</span>&nbsp; Server Permissions</a>
</li>
          <li class="sidebar-item">
  <a href="../access_and_security/running_with_a_proxy.html" class=""><span class="chapter-number">28</span>&nbsp; Running with a Proxy</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
            <a class="sidebar-section-item d-inline-flex text-start w-100 collapsed" data-bs-toggle="collapse" data-bs-target="#rsessions-collapse" aria-expanded="false">
              <div class="me-auto  sidebar-section-item">R Sessions</div>
            <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
        </div>
      <div class="collapse  " id="rsessions-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../r_sessions/r_sessions.html" class=""><span class="chapter-number">29</span>&nbsp; Overview</a>
</li>
          <li class="sidebar-item">
  <a href="../r_sessions/r_executable_and_libraries.html" class=""><span class="chapter-number">30</span>&nbsp; R Executable and Libraries</a>
</li>
          <li class="sidebar-item">
  <a href="../r_sessions/session_startup_scripts.html" class=""><span class="chapter-number">31</span>&nbsp; Sessions Startup Scripts</a>
</li>
          <li class="sidebar-item">
  <a href="../r_sessions/user_and_group_profiles.html" class=""><span class="chapter-number">32</span>&nbsp; User and Group Profiles</a>
</li>
          <li class="sidebar-item">
  <a href="../r_sessions/multiple_r_sessions.html" class=""><span class="chapter-number">33</span>&nbsp; Multiple R Sessions</a>
</li>
          <li class="sidebar-item">
  <a href="../r_sessions/pam_sessions.html" class=""><span class="chapter-number">34</span>&nbsp; PAM Sessions</a>
</li>
          <li class="sidebar-item">
  <a href="../r_sessions/kerberos.html" class=""><span class="chapter-number">35</span>&nbsp; Kerberos</a>
</li>
          <li class="sidebar-item">
  <a href="../r_sessions/directory_management.html" class=""><span class="chapter-number">36</span>&nbsp; Directory Management</a>
</li>
          <li class="sidebar-item">
  <a href="../r_sessions/workspace_management.html" class=""><span class="chapter-number">37</span>&nbsp; Workspace Management</a>
</li>
          <li class="sidebar-item">
  <a href="../r_sessions/first_project_template.html" class=""><span class="chapter-number">38</span>&nbsp; First Project Template</a>
</li>
          <li class="sidebar-item">
  <a href="../r_sessions/project_sharing.html" class=""><span class="chapter-number">39</span>&nbsp; Project Sharing</a>
</li>
          <li class="sidebar-item">
  <a href="../r_sessions/package_installation.html" class=""><span class="chapter-number">40</span>&nbsp; Package Installation</a>
</li>
          <li class="sidebar-item">
  <a href="../r_sessions/feature_limits.html" class=""><span class="chapter-number">41</span>&nbsp; Feature Limits</a>
</li>
          <li class="sidebar-item">
  <a href="../r_sessions/notifications.html" class=""><span class="chapter-number">42</span>&nbsp; Notifications</a>
</li>
          <li class="sidebar-item">
  <a href="../r_sessions/rstudio_connect_server.html" class=""><span class="chapter-number">43</span>&nbsp; RStudio Connect Server</a>
</li>
          <li class="sidebar-item">
  <a href="../r_sessions/terminal_websockets.html" class=""><span class="chapter-number">44</span>&nbsp; Terminal WebSockets</a>
</li>
          <li class="sidebar-item">
  <a href="../r_sessions/customizing_session_settings.html" class=""><span class="chapter-number">45</span>&nbsp; Customizing Sessions Settings</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
            <a class="sidebar-section-item d-inline-flex text-start w-100 collapsed" data-bs-toggle="collapse" data-bs-target="#rversions-collapse" aria-expanded="false">
              <div class="me-auto  sidebar-section-item">R Versions</div>
            <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
        </div>
      <div class="collapse  " id="rversions-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../r_versions/r_versions.html" class=""><span class="chapter-number">46</span>&nbsp; Overview</a>
</li>
          <li class="sidebar-item">
  <a href="../r_versions/installing_r.html" class=""><span class="chapter-number">47</span>&nbsp; Installing R</a>
</li>
          <li class="sidebar-item">
  <a href="../r_versions/configuring_default.html" class=""><span class="chapter-number">48</span>&nbsp; Configuring the Default Version of R</a>
</li>
          <li class="sidebar-item">
  <a href="../r_versions/using_multiple_versions_of_r.html" class=""><span class="chapter-number">49</span>&nbsp; Using Multiple Versions of R Concurrently</a>
</li>
          <li class="sidebar-item">
  <a href="../r_versions/managing_upgrades.html" class=""><span class="chapter-number">50</span>&nbsp; Managing Upgrades of R</a>
</li>
          <li class="sidebar-item">
  <a href="../r_versions/session_initialization.html" class=""><span class="chapter-number">51</span>&nbsp; Session Initialization</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
            <a class="sidebar-section-item d-inline-flex text-start w-100 " data-bs-toggle="collapse" data-bs-target="#loadbalancing-collapse" aria-expanded="true">
              <div class="me-auto  sidebar-section-item">Load Balancing</div>
            <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
        </div>
      <div class="collapse  show" id="loadbalancing-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../load_balancing/load_balancing.html" class=""><span class="chapter-number">52</span>&nbsp; Overview</a>
</li>
          <li class="sidebar-item">
  <a href="../load_balancing/load_balancing_vs_job_launcher.html" class=""><span class="chapter-number">53</span>&nbsp; Load Balancing vs.&nbsp;Job Launcher</a>
</li>
          <li class="sidebar-item">
  <a href="../load_balancing/configuration.html" class="active"><span class="chapter-number">54</span>&nbsp; Configuration</a>
</li>
          <li class="sidebar-item">
  <a href="../load_balancing/access_and_availability.html" class=""><span class="chapter-number">55</span>&nbsp; Access and Availability</a>
</li>
          <li class="sidebar-item">
  <a href="../load_balancing/balancing_methods.html" class=""><span class="chapter-number">56</span>&nbsp; Balancing Methods</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
            <a class="sidebar-section-item d-inline-flex text-start w-100 collapsed" data-bs-toggle="collapse" data-bs-target="#auditingandmonitoring-collapse" aria-expanded="false">
              <div class="me-auto  sidebar-section-item">Auditing and Monitoring</div>
            <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
        </div>
      <div class="collapse  " id="auditingandmonitoring-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../auditing_and_monitoring/auditing_and_monitoring.html" class=""><span class="chapter-number">57</span>&nbsp; Overview</a>
</li>
          <li class="sidebar-item">
  <a href="../auditing_and_monitoring/auditing_configuration.html" class=""><span class="chapter-number">58</span>&nbsp; Auditing Configuration</a>
</li>
          <li class="sidebar-item">
  <a href="../auditing_and_monitoring/monitoring_configuration.html" class=""><span class="chapter-number">59</span>&nbsp; Monitoring Configuration</a>
</li>
          <li class="sidebar-item">
  <a href="../auditing_and_monitoring/server_health_checks.html" class=""><span class="chapter-number">60</span>&nbsp; Server Health Checks</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
            <a class="sidebar-section-item d-inline-flex text-start w-100 collapsed" data-bs-toggle="collapse" data-bs-target="#licensemanagement-collapse" aria-expanded="false">
              <div class="me-auto  sidebar-section-item">License Management</div>
            <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
        </div>
      <div class="collapse  " id="licensemanagement-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../license_management/license_management.html" class=""><span class="chapter-number">61</span>&nbsp; Overview</a>
</li>
          <li class="sidebar-item">
  <a href="../license_management/license_activation_and_details.html" class=""><span class="chapter-number">62</span>&nbsp; Activation Basics</a>
</li>
          <li class="sidebar-item">
  <a href="../license_management/connectivity_requirements.html" class=""><span class="chapter-number">63</span>&nbsp; Connectivity Requirements</a>
</li>
          <li class="sidebar-item">
  <a href="../license_management/evaluations.html" class=""><span class="chapter-number">64</span>&nbsp; Evaluations</a>
</li>
          <li class="sidebar-item">
  <a href="../license_management/floating_licensing.html" class=""><span class="chapter-number">65</span>&nbsp; Floating Licensing</a>
</li>
          <li class="sidebar-item">
  <a href="../license_management/userspace_licensing.html" class=""><span class="chapter-number">66</span>&nbsp; Userspace Licensing</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
            <a class="sidebar-section-item d-inline-flex text-start w-100 collapsed" data-bs-toggle="collapse" data-bs-target="#dataconnectivity-collapse" aria-expanded="false">
              <div class="me-auto  sidebar-section-item">Data Connectivity</div>
            <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
        </div>
      <div class="collapse  " id="dataconnectivity-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../data_connectivity/data_connectivity.html" class=""><span class="chapter-number">67</span>&nbsp; Overview</a>
</li>
          <li class="sidebar-item">
  <a href="../data_connectivity/connectivity_using_odbc.html" class=""><span class="chapter-number">68</span>&nbsp; Connectivity using ODBC</a>
</li>
          <li class="sidebar-item">
  <a href="../data_connectivity/connectivity_using_r_packages.html" class=""><span class="chapter-number">69</span>&nbsp; Connectivity Using R Packages</a>
</li>
          <li class="sidebar-item">
  <a href="../data_connectivity/snippet_files.html" class=""><span class="chapter-number">70</span>&nbsp; Snippet Files</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
            <a class="sidebar-section-item d-inline-flex text-start w-100 collapsed" data-bs-toggle="collapse" data-bs-target="#joblauncher-collapse" aria-expanded="false">
              <div class="me-auto  sidebar-section-item">Job Launcher</div>
            <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
        </div>
      <div class="collapse  " id="joblauncher-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../job_launcher/job_launcher.html" class=""><span class="chapter-number">71</span>&nbsp; Overview</a>
</li>
          <li class="sidebar-item">
  <a href="../job_launcher/configuration.html" class=""><span class="chapter-number">72</span>&nbsp; Job Launcher Configuration</a>
</li>
          <li class="sidebar-item">
  <a href="../job_launcher/running_the_launcher.html" class=""><span class="chapter-number">73</span>&nbsp; Running the Launcher</a>
</li>
          <li class="sidebar-item">
  <a href="../job_launcher/load_balancing.html" class=""><span class="chapter-number">74</span>&nbsp; Load Balancing</a>
</li>
          <li class="sidebar-item">
  <a href="../job_launcher/creating_plugins.html" class=""><span class="chapter-number">75</span>&nbsp; Creating Plugins</a>
</li>
          <li class="sidebar-item">
  <a href="../job_launcher/troubleshooting.html" class=""><span class="chapter-number">76</span>&nbsp; Job Launcher Troubleshooting</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
            <a class="sidebar-section-item d-inline-flex text-start w-100 collapsed" data-bs-toggle="collapse" data-bs-target="#tutorialapi-collapse" aria-expanded="false">
              <div class="me-auto  sidebar-section-item">Tutorial API</div>
            <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
        </div>
      <div class="collapse  " id="tutorialapi-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../tutorial_api/tutorial_api.html" class=""><span class="chapter-number">77</span>&nbsp; Overview</a>
</li>
          <li class="sidebar-item">
  <a href="../tutorial_api/configuration.html" class=""><span class="chapter-number">78</span>&nbsp; Configuration</a>
</li>
          <li class="sidebar-item">
  <a href="../tutorial_api/interface.html" class=""><span class="chapter-number">79</span>&nbsp; Interface</a>
</li>
          <li class="sidebar-item">
  <a href="../tutorial_api/tutorial_api_methods.html" class=""><span class="chapter-number">80</span>&nbsp; Tutorial API Methods</a>
</li>
          <li class="sidebar-item">
  <a href="../tutorial_api/tutorial_api_callbacks.html" class=""><span class="chapter-number">81</span>&nbsp; Tutorial API Callbacks</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
            <a class="sidebar-section-item d-inline-flex text-start w-100 collapsed" data-bs-toggle="collapse" data-bs-target="#jupytersessions-collapse" aria-expanded="false">
              <div class="me-auto  sidebar-section-item">Jupyter Sessions</div>
            <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
        </div>
      <div class="collapse  " id="jupytersessions-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../jupyter_sessions/jupyter_sessions.html" class=""><span class="chapter-number">82</span>&nbsp; Overview</a>
</li>
          <li class="sidebar-item">
  <a href="../jupyter_sessions/configuration.html" class=""><span class="chapter-number">83</span>&nbsp; Jupyter Configuration</a>
</li>
          <li class="sidebar-item">
  <a href="../jupyter_sessions/troubleshooting.html" class=""><span class="chapter-number">84</span>&nbsp; Jupyter Troubleshooting</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
            <a class="sidebar-section-item d-inline-flex text-start w-100 collapsed" data-bs-toggle="collapse" data-bs-target="#vscodesessions-collapse" aria-expanded="false">
              <div class="me-auto  sidebar-section-item">VS Code Sessions</div>
            <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
        </div>
      <div class="collapse  " id="vscodesessions-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../vscode_sessions/vs_code_sessions.html" class=""><span class="chapter-number">85</span>&nbsp; Overview</a>
</li>
          <li class="sidebar-item">
  <a href="../vscode_sessions/installation.html" class=""><span class="chapter-number">86</span>&nbsp; Installation</a>
</li>
          <li class="sidebar-item">
  <a href="../vscode_sessions/configuration.html" class=""><span class="chapter-number">87</span>&nbsp; Configuration</a>
</li>
          <li class="sidebar-item">
  <a href="../vscode_sessions/multiple_sessions.html" class=""><span class="chapter-number">88</span>&nbsp; Multiple Sessions</a>
</li>
          <li class="sidebar-item">
  <a href="../vscode_sessions/troubleshooting.html" class=""><span class="chapter-number">89</span>&nbsp; VS Code Troubleshooting</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
            <a class="sidebar-section-item d-inline-flex text-start w-100 collapsed" data-bs-toggle="collapse" data-bs-target="#database-collapse" aria-expanded="false">
              <div class="me-auto  sidebar-section-item">Database</div>
            <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
        </div>
      <div class="collapse  " id="database-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../database/database.html" class=""><span class="chapter-number">90</span>&nbsp; Overview</a>
</li>
          <li class="sidebar-item">
  <a href="../database/configuration.html" class=""><span class="chapter-number">91</span>&nbsp; Configuration</a>
</li>
          <li class="sidebar-item">
  <a href="../database/migration.html" class=""><span class="chapter-number">92</span>&nbsp; Migration</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
            <a class="sidebar-section-item d-inline-flex text-start w-100 collapsed" data-bs-toggle="collapse" data-bs-target="#hardening-collapse" aria-expanded="false">
              <div class="me-auto  sidebar-section-item">Hardening</div>
            <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
        </div>
      <div class="collapse  " id="hardening-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../hardening/hardening.html" class=""><span class="chapter-number">93</span>&nbsp; Overview</a>
</li>
          <li class="sidebar-item">
  <a href="../hardening/set_up_ssl.html" class=""><span class="chapter-number">94</span>&nbsp; Set Up SSL</a>
</li>
          <li class="sidebar-item">
  <a href="../hardening/browser_security.html" class=""><span class="chapter-number">95</span>&nbsp; Browser Security</a>
</li>
          <li class="sidebar-item">
  <a href="../hardening/r_session_security.html" class=""><span class="chapter-number">96</span>&nbsp; R Session Security</a>
</li>
          <li class="sidebar-item">
  <a href="../hardening/database.html" class=""><span class="chapter-number">97</span>&nbsp; Database</a>
</li>
          <li class="sidebar-item">
  <a href="../hardening/other.html" class=""><span class="chapter-number">98</span>&nbsp; Other</a>
</li>
          <li class="sidebar-item">
  <a href="../hardening/example_secure_configuration.html" class=""><span class="chapter-number">99</span>&nbsp; Example Secure Configuration</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
            <a class="sidebar-section-item d-inline-flex text-start w-100 collapsed" data-bs-toggle="collapse" data-bs-target="#appendices-collapse" aria-expanded="false">
              <div class="me-auto  sidebar-section-item">Appendices</div>
            <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
        </div>
      <div class="collapse  " id="appendices-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../session_user_settings/session_user_settings.html" class=""><span class="chapter-number">A</span>&nbsp; Session User Settings</a>
</li>
          <li class="sidebar-item">
  <a href="../rstudio_ide_commands/rstudio_ide_commands.html" class=""><span class="chapter-number">B</span>&nbsp; RStudio IDE Commands</a>
</li>
          <li class="sidebar-item">
  <a href="../r_package_dependencies/r_package_dependencies.html" class=""><span class="chapter-number">C</span>&nbsp; R Package Dependencies</a>
</li>
          <li class="sidebar-item">
  <a href="../rstudio_server_cli/rstudio_server_cli.html" class=""><span class="chapter-number">D</span>&nbsp; Command Line Interface</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
  </ul>
  </div>
</nav>
  </div>
  <div id="quarto-toc-sidebar" class="col col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-toc order-last"><nav id="TOC" role="doc-toc">
<h2 id="toc-title">On this page</h2>
<ul>
<li><a href="#defining-the-cluster" class="nav-link active" data-scroll-target="#defining-the-cluster">Defining The Cluster</a></li>
<li><a href="#defining-nodes" class="nav-link" data-scroll-target="#defining-nodes">Defining Nodes</a></li>
<li><a href="#key-file-requirements" class="nav-link" data-scroll-target="#key-file-requirements">Key File Requirements</a></li>
<li><a href="#generating-a-key" class="nav-link" data-scroll-target="#generating-a-key">Generating a Key</a></li>
<li><a href="#launcher-considerations" class="nav-link" data-scroll-target="#launcher-considerations">Launcher Considerations</a></li>
<li><a href="#file-locking" class="nav-link" data-scroll-target="#file-locking">File Locking</a></li>
<li><a href="#managing-nodes" class="nav-link" data-scroll-target="#managing-nodes">Managing Nodes</a></li>
<li><a href="#troubleshooting" class="nav-link" data-scroll-target="#troubleshooting">Troubleshooting</a></li>
</ul>
</nav></div>
  <div class="col mx-auto col-sm-12 col-md-9 col-lg-7 col-xl-7 px-lg-4 pe-xxl-4 ps-xxl-0">
<main>
<header id="title-block-header">
<h1 class="title d-none d-lg-block display-7">Configuration</h1>
</header>

<p>There are several requirements for nodes within RStudio clusters:</p>
<ol type="1">
<li><p>All nodes must run the same version of RStudio Workbench.</p></li>
<li><p>Server configurations (i.e.&nbsp;contents of the <code>/etc/rstudio</code> directory) must be identical, with the exception of options related to the address of each node (<code>www-host-name</code> in <code>load-balancer</code>, <code>www-address</code> and <code>www-port</code> in <code>rserver.conf</code>).</p></li>
<li><p>User accounts must be accessible from each node and usernames and user ids must be identical on all nodes. The same applies for any groups used by RStudio users, and also to the rstudio service user account.</p></li>
<li><p>The clocks on all nodes must be synchronized.</p></li>
<li><p>User home directories must be accessible via <strong>shared storage</strong> (e.g. all nodes mounting the same NFS volume).</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Due to high latencies, use of EFS (Elastic File System) for home directories within AWS is strongly discouraged. If EFS is used, RStudio will experience highly degraded performance. We recommend using a traditional NFSv3 or NFSv4 mount instead.</p>
</div>
</div></li>
<li><p>An explicit server-wide shared storage path also must be defined. See the <a href="../r_sessions/project_sharing.html#shared-storage">Shared Storage</a> section for additional details.</p></li>
<li><p>RStudio must be configured to use a <a href="../database/configuration.html#postgresql">PostgreSQL</a> database, and an empty database must be present for RStudio to write important cross-node state. If you have previously run RStudio with a <a href="../database/configuration.html#sqlite">SQLite</a> database, it is strongly advised that you execute the database <a href="../database/migration.html#migration">Migration</a> to the PostgreSQL database first. For more information, see <a href="../database/database.html">Database</a>.</p></li>
</ol>
<section id="defining-the-cluster" class="level3">
<h3 class="anchored" data-anchor-id="defining-the-cluster">Defining The Cluster</h3>
<p>Only one load balancing cluster can exist per database, and this cluster is defined by the first node that comes online within the cluster. The cluster data contains the hash of the secure cookie key and the communication protocol (http, https, or https no verify). When each node comes online, it verifies its own secure cookie key and protocol against the clusterâ€™s data and will only come online if this data matches. There are two ways to reset the data stored in the cluster:</p>
<ol type="1">
<li>Bring all nodes offline; then reconfigure each node. The first node that comes online will be able to update the cluster data.</li>
<li>Manually reset the cluster by running <code>rstudio-server reset-cluster</code> from the command line. The next node that is started, restarted, or reloaded will update the cluster data.</li>
</ol>
<p>To view the nodes and their current statuses in the load balancer cluster, run the command <code>rstudio-server list-nodes</code>. The output contains a column â€˜Last Seenâ€™, which can be used to indentify nodes that have unexpectedly gone offline. When a node is online, it reguarly updates this database column with the current time (UTC) to indicate that it is Online and working as expected. When the time is displayed from the <code>list-nodes</code> command, it is displayed in the serverâ€™s local time. If a node is not properly shutdown, it may have an Online Status but the â€˜Last Seenâ€™ column will not be recent.</p>
</section>
<section id="defining-nodes" class="level3">
<h3 class="anchored" data-anchor-id="defining-nodes">Defining Nodes</h3>
<p>To define a cluster node, two configuration files need to be provided:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">/etc/rstudio/load-balancer</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">/etc/rstudio/secure-cookie-key</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The first of these defines the load balancing strategy and the nodeâ€™s public-facing address. The second defines a shared key used for signing cookies (in single-node configurations this key is generated automatically, however with multiple nodes explicit coordination is required. The same secure-cookie-key value <strong>must</strong> be used on each node).</p>
<p>Each setting in the load balancing configuration file has a default value, so the file may be empty, but its presence is required to activate load balancing.</p>
<p>When load balancing is configured, during startup each node will query the internal database for information about the active cluster and nodes. If the relevant data doesnâ€™t exist for a particular node, that node will insert it. It will then alert existing nodes of its presence and configuration. The address that it can be reached at is determined by attempting the following strategies, and using the first that is successful:</p>
<ol type="1">
<li><p>Use the value <code>www-host-name</code> provided in the configuration file.</p></li>
<li><p>Use the <code>www-address</code> defined in <code>rserver.conf</code> in combination with <code>www-port</code> or the default port.</p></li>
<li><p>Retrieve address from the <code>hostname</code> system call.</p></li>
<li><p>Use a system call to determine the machineâ€™s IP addresses and use the last v4, non-loopback address provided.</p></li>
</ol>
<p>Most users will want to configure RStudio Workbench to use one of the first two approaches.</p>
<p>For example, to use the <code>www-host-name</code> option to define a cluster with two nodes that load balances based on the number of actively running R sessions you could use the following configuration:</p>
<p>On the first node, which can be reached at <code>server1.example.com</code>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># /etc/rstudio/load-balancer</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="va">balancer</span><span class="op">=</span>sessions</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="ex">www-host-name=server1.example.com</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>On the second node, which can be reached at <code>server2.example.com</code>:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># /etc/rstudio/load-balancer</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="va">balancer</span><span class="op">=</span>sessions</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="ex">www-host-name=server2.example.com</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># /etc/rstudio/secure-cookie-key</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="ex">a55e5dc0-d6ae-11e3-9334-000c29635f71</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The secure cookie key file above is only an example; you need to generate your own unique key to share among the nodes in your cluster.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Previous versions of RStudio Workbench required the host name of each node be included on every active node under a [nodes] title in lieu of the <code>www-host-name</code> field, and a [config] title prior to the balancing options. This configuration will continue to work, but it is no longer the preferred configuration method. It is highly recommended that you update your config files accordingly.</p>
</div>
</div>
</section>
<section id="key-file-requirements" class="level3">
<h3 class="anchored" data-anchor-id="key-file-requirements">Key File Requirements</h3>
<p>The following are the requirements for the secure cookie key file:</p>
<ul>
<li>The key value must have a minimum length of 128 bits (16 bytes/characters). RStudio wonâ€™t start if the key is too weak.</li>
<li>The key file must have restrictive permissions (i.e.&nbsp;0600) to protect its contents from other users.</li>
<li>The key file must be identical on all nodes in a load-balanced cluster, so that the nodes can communicate with each other.</li>
<li>The key must have a secret value that cannot be guessed. Randomly generating the value is recommended; see below for one mechanism for doing so.</li>
</ul>
</section>
<section id="generating-a-key" class="level3">
<h3 class="anchored" data-anchor-id="generating-a-key">Generating a Key</h3>
<p>You can create a secure cookie key using the <code>uuid</code> utility as follows:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo sh <span class="at">-c</span> <span class="st">"echo </span><span class="kw">`</span><span class="ex">uuid</span><span class="kw">`</span><span class="st"> &gt; /etc/rstudio/secure-cookie-key"</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo chmod 0600 /etc/rstudio/secure-cookie-key</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This is the recommended method, but any mechanism that generates a unique, random value will work.</p>
<p>You do not need to generate a <code>secure-cookie-key</code> file on each server; generate it once, and copy it to each node along with the rest of the <code>/etc/rstudio</code> directory.</p>
<p>This secure cookie key will also be used for encrypting and decrypting the PostgreSQL database password, if applicable. See <a href="../database/configuration.html#postgresql-password-encryption">PostgreSQL Password Encryption</a> for more details.</p>
<section id="key-file-location" class="level4">
<h4 class="anchored" data-anchor-id="key-file-location">Key File Location</h4>
<p>You may optionally change the path of the secure-cookie-key by changing the <code>secure-cookie-key-file</code> setting in <code>rserver.conf</code>, though it is not necessary. Changing the path in this manner is only recommended in very specific circumstances when running the launcher with both RStudio Workbench and Package Manager simultaneously. For example:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode ini code-with-copy"><code class="sourceCode ini"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># /etc/rstudio/rserver.conf</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="dt">secure-cookie-key-file</span><span class="ot">=</span><span class="st">/mnt/rstudio/secure-cookie-key</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In addition, an explicit server-wide shared storage path must be defined (this is used for inter-node synchronization). This path is defined in the <code>/etc/rstudio/rserver.conf</code> file. For example:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode ini code-with-copy"><code class="sourceCode ini"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># /etc/rstudio/rserver.conf</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="dt">server-shared-storage-path</span><span class="ot">=</span><span class="st">/shared/rstudio-server/shared-storage</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>For convenience, this path will often be located on the same volume used for shared home directory storage (e.g.&nbsp;at path <code>/home/rstudio-server/shared-storage</code>).</p>
</section>
</section>
<section id="launcher-considerations" class="level3">
<h3 class="anchored" data-anchor-id="launcher-considerations">Launcher Considerations</h3>
<p>If you are running RStudio Workbench load balancing in addition to using Launcher sessions, you will need to ensure that the <code>/etc/rstudio/launcher.pub</code> and <code>/etc/rstudio/launcher.pem</code> files match on all Workbench nodes in the cluster. Failure to do so will prevent users from being able to connect to their sessions from Workbench nodes other than where their sessions were initiated.</p>
<p>For more information, see <a href="../job_launcher/configuration.html#rstudio-workbench-integration">RStudio Workbench Integration</a>.</p>
</section>
<section id="file-locking" class="level3">
<h3 class="anchored" data-anchor-id="file-locking">File Locking</h3>
<p>In order to synchronize the creation of sessions across multiple nodes RStudio Workbench uses a cross-node locking scheme. This scheme relies on the clocks on all nodes being synchronized. RStudio Workbench includes a <code>locktester</code> utility which you can use to verify that file locking is working correctly. To use the <code>locktester</code> you should login (e.g.&nbsp;via SSH or telnet) to at least two nodes using the same user account and then invoke the utility from both sessions as follows:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> /usr/lib/rstudio-server/bin/locktester</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The first node you execute the utility from should indicate the types of locks it was able to acquire, for example:</p>
<pre><code>* Acquired advisory lock
* Acquired link-based lock</code></pre>
<p>After the message is printed the process will pause so that it can retain the lock (you can cause it to release the lock by interrupting it e.g.&nbsp;via Ctrl+C).</p>
<p>The second and subsequent nodes you execute the utility will attempt to acquire the lock. A message will be printed to the console indicating which type of locks are supported, for example:</p>
<pre><code>* Acquired advisory lock
* Unable to acquire link-based lock

Your filesystem appears to support link-based locks.</code></pre>
<p>In this example, advisory locks are not supported (because both nodes were able to acquire an advisory lock), but link-based locks are. See <a href="#lock-configuration">Lock Configuration</a> for more information on configuring lock types.</p>
<p>If you interrupt the first node (e.g.&nbsp;via Ctrl+C) the lock will be released and you can then acquire it from the other nodes.</p>
<p>If either of the following occurs then there is an issue with file locking capabilities (or configuration) that should be addressed prior to using load balancing:</p>
<ol type="1">
<li>All nodes successfully acquire the file lock (i.e.&nbsp;more than one node can hold it concurrently).</li>
<li>No nodes are able to acquire the file lock.</li>
</ol>
<p>If either of the above conditions hold then RStudio wonâ€™t be able to correctly synchronize the creation of R sessions throughout the cluster (potentially resulting in duplicate sessions and lost data due to sessions overwriting each others state).</p>
<section id="lock-configuration" class="level4">
<h4 class="anchored" data-anchor-id="lock-configuration">Lock Configuration</h4>
<p>RStudioâ€™s file locking scheme can be configured using a file at <code>/etc/rstudio/file-locks</code>. Valid entries are:</p>
<ul>
<li><code>lock-type=[linkbased|advisory]</code></li>
<li><code>refresh-rate=[seconds]</code></li>
<li><code>timeout-interval=[seconds]</code></li>
<li><code>enable-logging=[0|1]</code></li>
<li><code>log-file=[path]</code></li>
</ul>
<p>The default locking scheme, <code>linkbased</code>, uses a file locking scheme whereby locks are considered acquired when the process successfully hardlinks a dummy file to a location within the folder RStudio uses for client state (typically <code>~/.local/share/rstudio</code>). This scheme is generally more robust with older network file systems, and the locks should survive temporary filesystem mounts / unmounts.</p>
<p>The <code>timeout-interval</code> and <code>refresh-rate</code> options can be used to configure how often the locks generated in the <code>linkbased</code> locking scheme are refreshed and reaped. By default, a process refreshes any locks it owns every 20 seconds, and scans for stale locks every 30 seconds. If an <code>rsession</code> process crashes, it can leave behind stale lock files; those lock files will be cleaned up after they expire by any newly-launched <code>rsession</code> processes.</p>
<p><code>advisory</code> can be selected to use advisory file locks (using e.g.&nbsp;<code>fcntl()</code> or <code>flock()</code>). These locks are robust, but are not supported by all network file systems.</p>
<p>If you are having issues with file locking, you can set <code>enable-logging=1</code>, and set the <code>log-file</code> option to a path where output should be written. When logging is enabled, RStudio will report its attempts to acquire and release locks to the log file specified by <code>log-file</code>. When <code>log-file</code> is unset, log entries will be emitted to the system logfile, typically located at <code>/var/log/messages</code> or <code>/var/lib/syslog</code>.</p>
</section>
</section>
<section id="managing-nodes" class="level3">
<h3 class="anchored" data-anchor-id="managing-nodes">Managing Nodes</h3>
<section id="starting-up" class="level4">
<h4 class="anchored" data-anchor-id="starting-up">Starting Up</h4>
<p>After creating your configuration files you should ensure that these files (along with all other configuration defined in <code>/etc/rstudio</code>) are copied to all nodes in the cluster. Assuming that the server is already installed and running on each node, you can then apply the load balancing configuration by restarting the server:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo rstudio-server restart</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="current-status" class="level4">
<h4 class="anchored" data-anchor-id="current-status">Current Status</h4>
<p>Once the cluster is running you can inspect its state (which sessions are running where) using the load balancing status HTTP endpoint. For example, when running the server on the default port (8787):</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> curl http://localhost:8787/load-balancer/status</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note that the status endpoint is accessed using localhost rather than an external IP address. This is because this endpoint is IP restricted to only be accessible within the cluster, so needs to be accessed directly from one of the nodes.</p>
<p>The <code>status</code> endpoint will return output similar to the following:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">192.168.55.101:8787</span>  Load: 0.45, 0.66, 0.32</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>   <span class="ex">12108</span> <span class="at">-</span> jdoe</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>   <span class="ex">12202</span> <span class="at">-</span> kmccurdy</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="ex">192.168.55.102:8787</span>  Load: 1, 0.75, 0.31</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>   <span class="ex">3404</span> <span class="at">-</span> bdylan</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="ex">192.168.55.103:8787</span> <span class="er">(</span><span class="ex">unreachable</span><span class="kw">)</span>  <span class="ex">Load:</span> 0, 0, 0</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="ex">192.168.55.104:8787</span> <span class="er">(</span><span class="ex">offline</span><span class="kw">)</span>  <span class="ex">Load:</span> 0.033, 0.38, 0.24</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This output will show all of the nodes in the cluster. Each node is indicated by its address and an optional status indicating whether the node is unreachable or offline. If the node does not indicate a status, then it is healthy and servicing requests. Following the node address is its CPU <code>Load</code>, indicated by three decimal values indicating the last known 1-minute, 5-minute, and 15-minute load averages, represented as a fraction of total CPU load. On subsequent output lines, each RStudio IDE session that is running on that particular node is listed along with its process ID and running user.</p>
<p>An unreachable node indicates an issue connecting to it via the network. In most cases, this indicates that the <code>rstudio-server</code> service is not running on the node and should be troubleshooted by viewing any startup issues in the system logs for that particular node (see <a href="#diagnostics">Diagnostics</a> if the service is running and healthy). An offline node is one that was specifically put into offline mode via the command <code>sudo rstudio-server offline</code>, which causes it to stop servicing new sessions.</p>
</section>
<section id="adding-and-removing-nodes" class="level4">
<h4 class="anchored" data-anchor-id="adding-and-removing-nodes">Adding and Removing Nodes</h4>
<p>To temporarily remove a node from the cluster you can simply stop it:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo rstudio-server stop</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>R sessions running on that node will be automatically moved to another active node. Note that only the session state is moved, not the running processes. The node will now appear in the <code>list-nodes</code> command with an offline status. To restore the node you can simply start it back up again:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo rstudio-server start</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To add a new node, create the file <code>/etc/rstudio/load-balancer</code>. Leave it empty for default settings. When the rstudio-server is restarted, it will broadcast its arrival to the other online nodes in the cluster. They do not have to be restarted or reloaded. All nodes sharing a database will be part of the same cluster.</p>
<p>You can suspend any actively running sessions by running <code>sudo rstudio-server suspend-all</code> on the node to be removed.</p>
<p>Reloading the load balancer configuration will also cause the <code>rserver-http</code> proxy configuration to be updated as well, which affects the RStudioâ€™s running HTTP server. It is recommended that you do not make any other HTTP-related changes when updating the load balancer configuration unless you are aware of the potential side-effects!</p>
<p>To permanently remove a node from the database, first stop rstudio server on that node. From an active node, retrieve the to-be-deleted nodeâ€™s ID, then pass it to the <code>delete-node</code> command. For example, your commands may look like the following:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo rstudio-server list-nodes</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Cluster</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="ex">-------</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Protocol</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Http</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="ex">Nodes</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="ex">-----</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a><span class="ex">ID</span>  Host                          IPv4            Port    Status</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="ex">1</span>   rsw-primaryyy                                 8787    Failed to resolve</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="ex">2</span>   rsw-secondary                 123.456.78.100  8787    Online</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a><span class="ex">3</span>   rsw-primary                   123.456.78.101  8787    Online                     </span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo rstudio-server delete-node 1</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a><span class="ex">Node</span> 1 deleted.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>The output from the <code>rstudio-server list-nodes</code> command above was shortened to improve readability.</p>
</div>
</div>
<p>When the command is run, the nodeâ€™s database status will shortly change to â€˜Deletingâ€™ and then the node will be removed from the database. All other nodes in the cluster will be notified that this node has been removed and stop routing messages to it.</p>
</section>
</section>
<section id="troubleshooting" class="level3">
<h3 class="anchored" data-anchor-id="troubleshooting">Troubleshooting</h3>
<p>If users are having difficulty accessing RStudio in a load balanced configuration itâ€™s likely due to one of the load balancing requirements not being satisfied. This section describes several scenarios where a failure due to unsatisfied requirements might occur.</p>
<section id="node-network-instability" class="level4">
<h4 class="anchored" data-anchor-id="node-network-instability">Node network instability</h4>
<p>Some scenarios may causes RStudio to wait a long time for a node to respond due to network instability. You can limit how long is this waiting period with the <code>timeout</code> option, which is set to 10 seconds by default. This disable this timeout and use the system defaults, set it to zero.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># /etc/rstudio/load-balancer</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="ex">[config]</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="va">balancer</span><span class="op">=</span>sessions</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="va">timeout</span><span class="op">=</span>5</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="ssl" class="level4">
<h4 class="anchored" data-anchor-id="ssl">SSL</h4>
<p>If one of the nodes is temporarily using a self-signed or otherwise functional but invalid certificate the load balancer may fail to use that node. You can skip SSL certificate verification by disabling the option <code>verify-ssl-certs</code>, which is only applicable if connecting over HTTPS. For production use, you should always leave the default or have this set to true, but it can be disabled for testing purposes.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># /etc/rstudio/load-balancer</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="ex">[config]</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="va">balancer</span><span class="op">=</span>sessions</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="ex">verify-ssl-certs=0</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="user-accounts-not-synchronized" class="level4">
<h4 class="anchored" data-anchor-id="user-accounts-not-synchronized">User Accounts Not Synchronized</h4>
<p>One of the load balancing requirements is that user accounts must be accessible from each node and usernames and user ids must be identical on all nodes. If a user has the same username but <em>different</em> user ids on different nodes then permissions problems will result when the same user attempts to access shared storage using different user-ids.</p>
<p>You can determine the ID for a given username via the <code>id</code> command. For example:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> id <span class="at">-u</span> jsmith</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="nfs-volume-mounting-problems" class="level4">
<h4 class="anchored" data-anchor-id="nfs-volume-mounting-problems">NFS Volume Mounting Problems</h4>
<p>If NFS volumes containing shared storage are unmounted during an RStudio session that session will become unreachable. Furthermore, unmounting can cause loss or corruption of file locks (see section below). If you are having problems related to accessing user directories then fully resetting the connections between RStudio nodes and NFS will often resolve them. To perform a full reset:</p>
<ol type="1">
<li><p>Stop RStudio on all nodes (<code>sudo rstudio-server stop</code>).</p></li>
<li><p>Fully unmount the NFS volume from all nodes.</p></li>
<li><p>Remount the NFS volume on all nodes.</p></li>
<li><p>Restart RStudio on all nodes (<code>sudo rstudio-server start</code>).</p></li>
</ol>
</section>
<section id="file-locking-problems" class="level4">
<h4 class="anchored" data-anchor-id="file-locking-problems">File Locking Problems</h4>
<p>Shared user storage (e.g.&nbsp;NFS) must support file locking so that RStudio can synchronize access to sessions across the various nodes in the cluster. File locking will not work correctly if the clocks on all nodes in the cluster are not synchronized. This condition may be surfaced as 502 HTTP errors. You can verify that file locking is working correctly by following the instructions in the <a href="#file-locking">File Locking</a> section above.</p>
</section>
<section id="diagnostics" class="level4">
<h4 class="anchored" data-anchor-id="diagnostics">Diagnostics</h4>
<p>To troubleshoot more complicated load balancing issues, RStudio can output detailed diagnostic information about internal load balancing traffic and state. You can enable this by using the <code>diagnostics</code> setting as follows:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode ini code-with-copy"><code class="sourceCode ini"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="kw">[config]</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="dt">diagnostics</span><span class="ot">=</span><span class="st">tmp</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Set this on <em>every</em> server in the cluster, and restart the servers to apply the change. This will write a file <code>/tmp/rstudio-load-balancer-diagnostics</code> on each server containing the diagnostic information.</p>
<p>The value <code>stderr</code> can be used in place of <code>tmp</code> to send diagnostics from the <code>rserver</code> process to standard error instead of a file on disk; this is useful if your RStudio Workbench instance runs non-daemonized.</p>

<!-- -->
</section>
</section>
</main>
<div class="page-navigation page-navigation-docked">
  <div class="nav-page nav-page-previous">
      <a href="../load_balancing/load_balancing_vs_job_launcher.html"><span class="chapter-number">53</span>&nbsp; Load Balancing vs.&nbsp;Job Launcher</a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../load_balancing/access_and_availability.html"><span class="chapter-number">55</span>&nbsp; Access and Availability</a>
  </div>
</div>
</div> <!-- /main column -->
</div> <!-- /row -->
</div> <!-- /container fluid -->


</body></html>