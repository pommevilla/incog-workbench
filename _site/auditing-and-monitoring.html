<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>RStudio Workbench Administration – auditing-and-monitoring</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007ba5; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #007ba5; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #007ba5; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>

  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <script src="site_libs/quarto-nav/quarto-nav.js"></script>
  <script src="site_libs/quarto-nav/headroom.min.js"></script>
  <meta name="quarto:offset" content=".">
  <script src="site_libs/quarto-search/autocomplete.min.js"></script>
  <script src="site_libs/quarto-search/fuse.min.js"></script>
  <script src="site_libs/quarto-search/quarto-search.js"></script>
  <script src="site_libs/quarto-html/quarto.js"></script>
  <script src="site_libs/quarto-html/popper.min.js"></script>
  <script src="site_libs/quarto-html/tippy.umd.min.js"></script>
  <script src="site_libs/quarto-html/clipboard.min.js"></script>
  <script src="site_libs/quarto-html/anchor.min.js"></script>
  <script src="site_libs/quarto-html/quarto-html.js"></script>
  <link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
  <link href="site_libs/quarto-html/quarto-css-variables.css" rel="stylesheet">
  <script src="site_libs/bootstrap/bootstrap.min.js"></script>
  <link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
  <link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet">
  <!-- Google Analytics -->
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-20375833-3', 'auto', {'allowLinker': true});
  ga('require', 'linker');
  ga('linker:autoLink', ['rstudio.com', 'rstudio.github.io', 'rviews.rstudio.com', 'community.rstudio.com', 'rpubs.rstudio.com', 'environments.rstudio.com', 'rstudio.org', 'dailies.rstudio.com', 'pages.rstudio.com', 'db.rstudio.com', 'solutions.rstudio.com', 'docs.rstudio.com', 'spark.rstudio.com', 'shiny.rstudio.com', 'education.rstudio.com', 'rstudio.cloud', 'shinyapps.io', 'team-admin.rstudio.com', 'blog.rstudio.com', 'support.rstudio.com', 'blogs.rstudio.com', 'keras.rstudio.com', 'swag.rstudio.com', 'tensorflow.rstudio.com', 'packagemanager.rstudio.com'] );
  ga('send', 'pageview');
  </script>
  <!-- End Google Analytics -->
  <style type="text/css">
    details {
      margin-bottom: 1em;
    } 
    details[show] {
      margin-bottom: 0;
    }

    .quarto-unresolved-ref {
      font-weight: 600;
    }

    .quarto-cover-image {
      max-width: 35%;
      float: right;
      margin-left: 30px;
    }

    .cell-output-display {
      overflow-x: auto;
    }

    .hidden {
      display: none;
    }
  </style>
  <link rel="stylesheet" href="styles/guide.css">
</head>
<body>
<div id="quarto-search-results"></div>
<header id="quarto-header" class="headroom fixed-top">
<nav class="quarto-secondary-nav py-2 d-lg-none d-md-block " data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <div class="container-fluid d-flex justify-content-between">
    <h1 class="quarto-secondary-nav-title mb-0 fs-3 d-inline"></h1>
    <button type="button" class="quarto-btn-toggle btn d-lg-none py-0 px-1 d-inline-block border-0 ">
      <i class="bi bi-chevron-right"></i>
    </button>
  </div>
</nav>
</header>
 <!-- /navbar/sidebar -->
<div class="container-fluid quarto-container d-flex flex-column page-layout-article">
<div class="row flex-fill" id="quarto-content">
  <div id="quarto-sidebar" class="col col-12 col-lg-3 d-lg-flex px-0 pt-0 sidebar collapse sidebar-navigation">
    <nav class="me-lg-auto py-2 docked  overflow-scroll">
  <div class="px-3 pt-lg-2 mt-1 text-left">
    <img src="./images/logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
  </div>
    <div class="d-flex px-3 mt-2 flex-shrink-0 align-items-center">
      <div class="sidebar-search">
      <form class="d-flex mb-0">
  <input id="quarto-search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>
      </div>
    </div>
  <div class="sidebar-menu-container"> 
  <ul class="list-unstyled mt-3 px-3">
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-section-item">
            <div class="sidebar-section-link me-auto ">
            <a href="./index_splits/index.sub_00.html" class="">Getting Started</a>
            </div>
            <a class="text-start  " data-bs-toggle="collapse" data-bs-target="#gettingstarted-collapse" aria-expanded="true">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  show" id="gettingstarted-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="./index_splits/index.sub_01.html" class="">Introduction</a>
</li>
          <li class="sidebar-item">
  <a href="./index_splits/index.sub_02.html" class="">Installation</a>
</li>
          <li class="sidebar-item">
  <a href="./index_splits/index.sub_03.html" class="">Management Script</a>
</li>
          <li class="sidebar-item">
  <a href="./index_splits/index.sub_04.html" class="">Activation</a>
</li>
          <li class="sidebar-item">
  <a href="./index_splits/index.sub_05.html" class="">Accessing the Server</a>
</li>
          <li class="sidebar-item">
  <a href="./index_splits/index.sub_06.html" class="">Community Resources</a>
</li>
          <li class="sidebar-item">
  <a href="./index_splits/index.sub_07.html" class="">Professional Support</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-section-item">
            <div class="sidebar-section-link me-auto ">
            <a href="./server-management_splits/server-management.sub_00.html" class="">Server Management</a>
            </div>
            <a class="text-start  " data-bs-toggle="collapse" data-bs-target="#servermanagement-collapse" aria-expanded="true">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  show" id="servermanagement-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="./server-management_splits/server-management.sub_01.html" class="">Core Administrative Tasks</a>
</li>
          <li class="sidebar-item">
  <a href="./server-management_splits/server-management.sub_02.html" class="">Logging</a>
</li>
          <li class="sidebar-item">
  <a href="./server-management_splits/server-management.sub_03.html" class="">Administrative Dashboard</a>
</li>
          <li class="sidebar-item">
  <a href="./server-management_splits/server-management.sub_04.html" class="">Automated Crash Reporting</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-section-item">
            <div class="sidebar-section-link me-auto ">
            <a href="./authenticating-users_splits/authenticating-users.sub_00.html" class="">Authenticating Users</a>
            </div>
            <a class="text-start  " data-bs-toggle="collapse" data-bs-target="#authenticatingusers-collapse" aria-expanded="true">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  show" id="authenticatingusers-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="./authenticating-users_splits/authenticating-users.sub_01.html" class="">User Provisioning</a>
</li>
          <li class="sidebar-item">
  <a href="./authenticating-users_splits/authenticating-users.sub_02.html" class="">PAM Basics</a>
</li>
          <li class="sidebar-item">
  <a href="./authenticating-users_splits/authenticating-users.sub_03.html" class="">Authentication Migration</a>
</li>
          <li class="sidebar-item">
  <a href="./authenticating-users_splits/authenticating-users.sub_04.html" class="">PAM Authentication</a>
</li>
          <li class="sidebar-item">
  <a href="./authenticating-users_splits/authenticating-users.sub_05.html" class="">Restricting Access to Specific Users</a>
</li>
          <li class="sidebar-item">
  <a href="./authenticating-users_splits/authenticating-users.sub_06.html" class="">SAML Single Sign-On Authentication</a>
</li>
          <li class="sidebar-item">
  <a href="./authenticating-users_splits/authenticating-users.sub_07.html" class="">OpenID Connect Authentication</a>
</li>
          <li class="sidebar-item">
  <a href="./authenticating-users_splits/authenticating-users.sub_08.html" class="">Proxied Authentication</a>
</li>
          <li class="sidebar-item">
  <a href="./authenticating-users_splits/authenticating-users.sub_09.html" class="">Google Accounts (deprecated)</a>
</li>
          <li class="sidebar-item">
  <a href="./authenticating-users_splits/authenticating-users.sub_10.html" class="">Customizing the Sign-In Page</a>
</li>
          <li class="sidebar-item">
  <a href="./authenticating-users_splits/authenticating-users.sub_11.html" class="">Authorization Timeout</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-section-item">
            <div class="sidebar-section-link me-auto ">
            <a href="./access-and-security_splits/access-and-security.sub_00.html" class="">Access and Security</a>
            </div>
            <a class="text-start  " data-bs-toggle="collapse" data-bs-target="#accessandsecurity-collapse" aria-expanded="true">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  show" id="accessandsecurity-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="./access-and-security_splits/access-and-security.sub_01.html" class="">Network Port and Address</a>
</li>
          <li class="sidebar-item">
  <a href="./access-and-security_splits/access-and-security.sub_02.html" class="">IP Access Rules</a>
</li>
          <li class="sidebar-item">
  <a href="./access-and-security_splits/access-and-security.sub_03.html" class="">Frame Origin</a>
</li>
          <li class="sidebar-item">
  <a href="./access-and-security_splits/access-and-security.sub_04.html" class="">Same Site cookies</a>
</li>
          <li class="sidebar-item">
  <a href="./access-and-security_splits/access-and-security.sub_05.html" class="">Compatibility with Safari 13+</a>
</li>
          <li class="sidebar-item">
  <a href="./access-and-security_splits/access-and-security.sub_06.html" class="">Additional Security Considerations</a>
</li>
          <li class="sidebar-item">
  <a href="./access-and-security_splits/access-and-security.sub_07.html" class="">Additional Headers</a>
</li>
          <li class="sidebar-item">
  <a href="./access-and-security_splits/access-and-security.sub_08.html" class="">Secure Sockets (SSL)</a>
</li>
          <li class="sidebar-item">
  <a href="./access-and-security_splits/access-and-security.sub_09.html" class="">SSL Ports</a>
</li>
          <li class="sidebar-item">
  <a href="./access-and-security_splits/access-and-security.sub_10.html" class="">Cookies</a>
</li>
          <li class="sidebar-item">
  <a href="./access-and-security_splits/access-and-security.sub_11.html" class="">Server Permissions</a>
</li>
          <li class="sidebar-item">
  <a href="./access-and-security_splits/access-and-security.sub_12.html" class="">Running with a Proxy</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-section-item">
            <div class="sidebar-section-link me-auto ">
            <a href="./r-sessions_splits/r-sessions.sub_00.html" class="">R Sessions</a>
            </div>
            <a class="text-start  " data-bs-toggle="collapse" data-bs-target="#rsessions-collapse" aria-expanded="true">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  show" id="rsessions-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="./r-sessions_splits/r-sessions.sub_01.html" class="">R Executable and Libraries</a>
</li>
          <li class="sidebar-item">
  <a href="./r-sessions_splits/r-sessions.sub_02.html" class="">Session Startup Scripts</a>
</li>
          <li class="sidebar-item">
  <a href="./r-sessions_splits/r-sessions.sub_03.html" class="">User and Group Profiles</a>
</li>
          <li class="sidebar-item">
  <a href="./r-sessions_splits/r-sessions.sub_04.html" class="">Multiple R Sessions</a>
</li>
          <li class="sidebar-item">
  <a href="./r-sessions_splits/r-sessions.sub_05.html" class="">PAM Sessions</a>
</li>
          <li class="sidebar-item">
  <a href="./r-sessions_splits/r-sessions.sub_06.html" class="">Kerberos</a>
</li>
          <li class="sidebar-item">
  <a href="./r-sessions_splits/r-sessions.sub_07.html" class="">Directory Management</a>
</li>
          <li class="sidebar-item">
  <a href="./r-sessions_splits/r-sessions.sub_08.html" class="">Workspace Management</a>
</li>
          <li class="sidebar-item">
  <a href="./r-sessions_splits/r-sessions.sub_09.html" class="">First Project Template</a>
</li>
          <li class="sidebar-item">
  <a href="./r-sessions_splits/r-sessions.sub_10.html" class="">Project Sharing</a>
</li>
          <li class="sidebar-item">
  <a href="./r-sessions_splits/r-sessions.sub_11.html" class="">Package Installation</a>
</li>
          <li class="sidebar-item">
  <a href="./r-sessions_splits/r-sessions.sub_12.html" class="">Feature Limits</a>
</li>
          <li class="sidebar-item">
  <a href="./r-sessions_splits/r-sessions.sub_13.html" class="">Notifications</a>
</li>
          <li class="sidebar-item">
  <a href="./r-sessions_splits/r-sessions.sub_14.html" class="">RStudio Connect Server</a>
</li>
          <li class="sidebar-item">
  <a href="./r-sessions_splits/r-sessions.sub_15.html" class="">Terminal WebSockets</a>
</li>
          <li class="sidebar-item">
  <a href="./r-sessions_splits/r-sessions.sub_16.html" class="">Customizing Session Settings</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-section-item">
            <div class="sidebar-section-link me-auto ">
            <a href="./r-versions-1_splits/r-versions-1.sub_00.html" class="">R Versions</a>
            </div>
            <a class="text-start  " data-bs-toggle="collapse" data-bs-target="#rversions-collapse" aria-expanded="true">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  show" id="rversions-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="./r-versions-1_splits/r-versions-1.sub_01.html" class="">Overview</a>
</li>
          <li class="sidebar-item">
  <a href="./r-versions-1_splits/r-versions-1.sub_02.html" class="">Installing R</a>
</li>
          <li class="sidebar-item">
  <a href="./r-versions-1_splits/r-versions-1.sub_03.html" class="">Configuring the Default Version of R</a>
</li>
          <li class="sidebar-item">
  <a href="./r-versions-1_splits/r-versions-1.sub_04.html" class="">Using Multiple Versions of R Concurrently</a>
</li>
          <li class="sidebar-item">
  <a href="./r-versions-1_splits/r-versions-1.sub_05.html" class="">Managing Upgrades of R</a>
</li>
          <li class="sidebar-item">
  <a href="./r-versions-1_splits/r-versions-1.sub_06.html" class="">Session Initialization</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-section-item">
            <div class="sidebar-section-link me-auto ">
            <a href="./load-balancing_splits/load-balancing.sub_00.html" class="">Load Balancing</a>
            </div>
            <a class="text-start  " data-bs-toggle="collapse" data-bs-target="#loadbalancing-collapse" aria-expanded="true">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  show" id="loadbalancing-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="./load-balancing_splits/load-balancing.sub_01.html" class="">Overview</a>
</li>
          <li class="sidebar-item">
  <a href="./load-balancing_splits/load-balancing.sub_02.html" class="">Load Balancing vs. Job Launcher</a>
</li>
          <li class="sidebar-item">
  <a href="./load-balancing_splits/load-balancing.sub_03.html" class="">Configuration</a>
</li>
          <li class="sidebar-item">
  <a href="./load-balancing_splits/load-balancing.sub_04.html" class="">Access and Availability</a>
</li>
          <li class="sidebar-item">
  <a href="./load-balancing_splits/load-balancing.sub_05.html" class="">Balancing Methods</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-section-item">
            <div class="sidebar-section-link me-auto ">
            <a href="./auditing-and-monitoring_splits/auditing-and-monitoring.sub_00.html" class="">Auditing and Monitoring</a>
            </div>
            <a class="text-start  " data-bs-toggle="collapse" data-bs-target="#auditingandmonitoring-collapse" aria-expanded="true">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  show" id="auditingandmonitoring-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="./auditing-and-monitoring_splits/auditing-and-monitoring.sub_01.html" class="">Auditing Configuration</a>
</li>
          <li class="sidebar-item">
  <a href="./auditing-and-monitoring_splits/auditing-and-monitoring.sub_02.html" class="">Monitoring Configuration</a>
</li>
          <li class="sidebar-item">
  <a href="./auditing-and-monitoring_splits/auditing-and-monitoring.sub_03.html" class="">Server Health Checks</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-section-item">
            <div class="sidebar-section-link me-auto ">
            <a href="./license-management_splits/license-management.sub_00.html" class="">License Management</a>
            </div>
            <a class="text-start  " data-bs-toggle="collapse" data-bs-target="#licensemanagement-collapse" aria-expanded="true">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  show" id="licensemanagement-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="./license-management_splits/license-management.sub_01.html" class="">Product Activation</a>
</li>
          <li class="sidebar-item">
  <a href="./license-management_splits/license-management.sub_02.html" class="">License Details</a>
</li>
          <li class="sidebar-item">
  <a href="./license-management_splits/license-management.sub_03.html" class="">Connectivity Requirements</a>
</li>
          <li class="sidebar-item">
  <a href="./license-management_splits/license-management.sub_04.html" class="">Evaluations</a>
</li>
          <li class="sidebar-item">
  <a href="./license-management_splits/license-management.sub_05.html" class="">Floating Licensing</a>
</li>
          <li class="sidebar-item">
  <a href="./license-management_splits/license-management.sub_06.html" class="">Userspace Licensing</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-section-item">
            <div class="sidebar-section-link me-auto ">
            <a href="./data-connectivity_splits/data-connectivity.sub_00.html" class="">Data Connectivity</a>
            </div>
            <a class="text-start  " data-bs-toggle="collapse" data-bs-target="#dataconnectivity-collapse" aria-expanded="true">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  show" id="dataconnectivity-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="./data-connectivity_splits/data-connectivity.sub_01.html" class="">Connectivity using ODBC</a>
</li>
          <li class="sidebar-item">
  <a href="./data-connectivity_splits/data-connectivity.sub_02.html" class="">Connectivity using R Packages</a>
</li>
          <li class="sidebar-item">
  <a href="./data-connectivity_splits/data-connectivity.sub_03.html" class="">Snippet Files</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-section-item">
            <div class="sidebar-section-link me-auto ">
            <a href="./job-launcher_splits/job-launcher.sub_00.html" class="">Job Launcher</a>
            </div>
            <a class="text-start  " data-bs-toggle="collapse" data-bs-target="#joblauncher-collapse" aria-expanded="true">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  show" id="joblauncher-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="./job-launcher_splits/job-launcher.sub_01.html" class="">Overview</a>
</li>
          <li class="sidebar-item">
  <a href="./job-launcher_splits/job-launcher.sub_02.html" class="">Configuration</a>
</li>
          <li class="sidebar-item">
  <a href="./job-launcher_splits/job-launcher.sub_03.html" class="">Running the Launcher</a>
</li>
          <li class="sidebar-item">
  <a href="./job-launcher_splits/job-launcher.sub_04.html" class="">Load Balancing</a>
</li>
          <li class="sidebar-item">
  <a href="./job-launcher_splits/job-launcher.sub_05.html" class="">Creating plugins</a>
</li>
          <li class="sidebar-item">
  <a href="./job-launcher_splits/job-launcher.sub_06.html" class="">Troubleshooting</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-section-item">
            <div class="sidebar-section-link me-auto ">
            <a href="./tutorial-api_splits/tutorial-api.sub_00.html" class="">Tutorial API</a>
            </div>
            <a class="text-start  " data-bs-toggle="collapse" data-bs-target="#tutorialapi-collapse" aria-expanded="true">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  show" id="tutorialapi-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="./tutorial-api_splits/tutorial-api.sub_01.html" class="">Overview</a>
</li>
          <li class="sidebar-item">
  <a href="./tutorial-api_splits/tutorial-api.sub_02.html" class="">Configuration</a>
</li>
          <li class="sidebar-item">
  <a href="./tutorial-api_splits/tutorial-api.sub_03.html" class="">Interface</a>
</li>
          <li class="sidebar-item">
  <a href="./tutorial-api_splits/tutorial-api.sub_04.html" class="">Tutorial API Methods</a>
</li>
          <li class="sidebar-item">
  <a href="./tutorial-api_splits/tutorial-api.sub_05.html" class="">Tutorial API Callbacks</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-section-item">
            <div class="sidebar-section-link me-auto ">
            <a href="./jupyter-sessions_splits/jupyter-sessions.sub_00.html" class="">Jupyter Sessions</a>
            </div>
            <a class="text-start  " data-bs-toggle="collapse" data-bs-target="#jupytersessions-collapse" aria-expanded="true">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  show" id="jupytersessions-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="./jupyter-sessions_splits/jupyter-sessions.sub_01.html" class="">Overview</a>
</li>
          <li class="sidebar-item">
  <a href="./jupyter-sessions_splits/jupyter-sessions.sub_02.html" class="">Configuration</a>
</li>
          <li class="sidebar-item">
  <a href="./jupyter-sessions_splits/jupyter-sessions.sub_03.html" class="">Troubleshooting</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-section-item">
            <div class="sidebar-section-link me-auto ">
            <a href="./vscode-sessions-preview_splits/vscode-sessions-preview.sub_00.html" class="">VS Code Sessions</a>
            </div>
            <a class="text-start  " data-bs-toggle="collapse" data-bs-target="#vscodesessions-collapse" aria-expanded="true">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  show" id="vscodesessions-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="./vscode-sessions-preview_splits/vscode-sessions-preview.sub_01.html" class="">Overview</a>
</li>
          <li class="sidebar-item">
  <a href="./vscode-sessions-preview_splits/vscode-sessions-preview.sub_02.html" class="">Installation</a>
</li>
          <li class="sidebar-item">
  <a href="./vscode-sessions-preview_splits/vscode-sessions-preview.sub_03.html" class="">Configuration</a>
</li>
          <li class="sidebar-item">
  <a href="./vscode-sessions-preview_splits/vscode-sessions-preview.sub_04.html" class="">Multiple Sessions</a>
</li>
          <li class="sidebar-item">
  <a href="./vscode-sessions-preview_splits/vscode-sessions-preview.sub_05.html" class="">Troubleshooting</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-section-item">
            <div class="sidebar-section-link me-auto ">
            <a href="./database_splits/database.sub_00.html" class="">Database</a>
            </div>
            <a class="text-start  " data-bs-toggle="collapse" data-bs-target="#database-collapse" aria-expanded="true">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  show" id="database-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="./database_splits/database.sub_01.html" class="">Configuration</a>
</li>
          <li class="sidebar-item">
  <a href="./database_splits/database.sub_02.html" class="">Migration</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-section-item">
            <div class="sidebar-section-link me-auto ">
            <a href="./hardening_splits/hardening.sub_00.html" class="">Hardening</a>
            </div>
            <a class="text-start  " data-bs-toggle="collapse" data-bs-target="#hardening-collapse" aria-expanded="true">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  show" id="hardening-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="./hardening_splits/hardening.sub_01.html" class="">Set up SSL</a>
</li>
          <li class="sidebar-item">
  <a href="./hardening_splits/hardening.sub_02.html" class="">Browser Security</a>
</li>
          <li class="sidebar-item">
  <a href="./hardening_splits/hardening.sub_03.html" class="">R Session Security</a>
</li>
          <li class="sidebar-item">
  <a href="./hardening_splits/hardening.sub_04.html" class="">Other</a>
</li>
          <li class="sidebar-item">
  <a href="./hardening_splits/hardening.sub_05.html" class="">Example Secure Configuration</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <li class="sidebar-item">
  <a href="./session-user-settings_splits/session-user-settings.sub_00.html" class="">Session User Settings</a>
</li>
      <li class="sidebar-item">
  <a href="./rstudio-ide-commands_splits/rstudio-ide-commands.sub_00.html" class="">R Studio IDE Commands</a>
</li>
      <li class="sidebar-item">
  <a href="./r-package-dependencies_splits/r-package-dependencies.sub_00.html" class="">R Package Dependencies</a>
</li>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-section-item">
            <div class="sidebar-section-link me-auto ">
            <a href="./rstudio-server-configuration_splits/rstudio-server-configuration.sub_00.html" class="">R Studio Configuration</a>
            </div>
            <a class="text-start  " data-bs-toggle="collapse" data-bs-target="#rstudioconfiguration-collapse" aria-expanded="true">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  show" id="rstudioconfiguration-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="./rstudio-server-configuration_splits/rstudio-server-configuration.sub_01.html" class="">rserver.conf</a>
</li>
          <li class="sidebar-item">
  <a href="./rstudio-server-configuration_splits/rstudio-server-configuration.sub_02.html" class="">rsession.conf</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
  </ul>
  </div>
</nav>
  </div>
  <div class="col mx-auto col-sm-12 col-md-11 col-lg-9 px-lg-4">
<main>
<section id="auditing-and-monitoring" class="level1 pro-header">
<h1 class="pro-header">Auditing and Monitoring</h1>
<section id="auditing-configuration" class="level2">
<h2 class="anchored" data-anchor-id="auditing-configuration">Auditing Configuration</h2>
<section id="r-console-auditing" class="level3">
<h3 class="anchored" data-anchor-id="r-console-auditing">R Console Auditing</h3>
<p>RStudio Workbench can be optionally configured to audit all R console activity by writing console input and output to a central location (the <code>/var/lib/rstudio-server/audit/r-console</code> directory by default). This feature can be enabled using the <code>audit-r-console</code> setting. For example:</p>
<p><em>/etc/rstudio/rserver.conf</em></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode ini"><code class="sourceCode ini"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="dt">audit-r-console</span><span class="ot">=</span><span class="st">input</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This will audit all R console <em>input</em>. If you wish to record both console input and output then you can use the <code>all</code> setting. For example:</p>
<p><em>/etc/rstudio/rserver.conf</em></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode ini"><code class="sourceCode ini"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="dt">audit-r-console</span><span class="ot">=</span><span class="st">all</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note that if you choose to record both input and output you’ll need considerably more storage available than if you record input only. See the <a href="#storage-options-1">Storage Options</a> section below for additional discussion of storage requirements and configuration.</p>
<section id="data-format" class="level4">
<h4 class="anchored" data-anchor-id="data-format">Data Format</h4>
<p>The R console activity for each user is written into individual files within the <code>r-console</code> data directory (by default <code>/var/lib/rstudio-server/audit/r-console</code>). The following fields are included:</p>
<table class="table">
<colgroup>
<col style="width: 29%">
<col style="width: 70%">
</colgroup>
<tbody>
<tr class="odd">
<td style="text-align: left;">session_id</td>
<td style="text-align: left;">Unique identifier for R session where this action occurred.</td>
</tr>
<tr class="even">
<td style="text-align: left;">project</td>
<td style="text-align: left;">Path to RStudio project directory if the action occurred within a project.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">pid</td>
<td style="text-align: left;">Unix process ID where this console action occurred.</td>
</tr>
<tr class="even">
<td style="text-align: left;">username</td>
<td style="text-align: left;">Unix user which executed this console action.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">timestamp</td>
<td style="text-align: left;">Timestamp of action in milliseconds since the epoch.</td>
</tr>
<tr class="even">
<td style="text-align: left;">type</td>
<td style="text-align: left;">Console action type (prompt, input, output, or error).</td>
</tr>
<tr class="odd">
<td style="text-align: left;">data</td>
<td style="text-align: left;">Console data associated with this action (e.g.&nbsp;output text).</td>
</tr>
</tbody>
</table>
<p>The <code>session_id</code> field refers to a concurrent R session as described in the section on [Multiple R Sessions] (i.e.&nbsp;it can span multiple projects and/or pids).</p>
<p>The default format for the log file is CSV (Comma Separated Values). It’s also possible to write the data to <a href="http://ndjson.org/">Newline Delimited JSON</a> by using the <code>audit-r-console-format</code> option. For example:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode ini"><code class="sourceCode ini"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="dt">audit-r-console-format</span><span class="ot">=</span><span class="st">json</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note that when using the JSON format the entire file is not a valid JSON object but rather each individual line is one. This follows the Newline Delimited JSON specification supported by several libraries including the R <strong>jsonlite</strong> package.</p>
</section>
<section id="storage-options" class="level4">
<h4 class="anchored" data-anchor-id="storage-options">Storage Options</h4>
<p>You can customize both the location where audit data is written as well as the maximum amount of data to log per-user (by default this is 50 MB). To specify the root directory for audit data you use the <code>audit-data-path</code> setting. For example:</p>
<p><em>/etc/rstudio/rserver.conf</em></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode ini"><code class="sourceCode ini"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="dt">audit-data-path</span><span class="ot">=</span><span class="st">/audit-data</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note that this path affects the location of both R console auditing and R session auditing data.</p>
<p>To specify the maximum amount of data to write to an individual user’s R console log file you use the <code>audit-r-console-user-limit-mb</code> setting. For example:</p>
<p><em>/etc/rstudio/rserver.conf</em></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode ini"><code class="sourceCode ini"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="dt">audit-r-console-user-limit-mb</span><span class="ot">=</span><span class="dv">100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The default maximum R console log file size is 50 megabytes per-user. To configure no limit to the size of files which can be written you set the value to <code>0</code>, for example:</p>
<p><em>/etc/rstudio/rserver.conf</em></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode ini"><code class="sourceCode ini"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="dt">audit-r-console-user-limit-mb</span><span class="ot">=</span><span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If you wish for RStudio to automatically roll the log files once the maximum size is reached, set the <code>audit-r-console-user-limit-months</code> setting. For example:</p>
<p><em>/etc/rstudio/rserver.conf</em></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode ini"><code class="sourceCode ini"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="dt">audit-r-console-user-limit-months</span><span class="ot">=</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This will cause log files to be rolled over once the maximum size is reached, and only two months of data will be kept. Note that this setting is not set by default.</p>
<p>Note that if the month limit is not set, then log files will not be rolled automatically. Depending on the number of users and their activity level this means that you should either create a scheduled (e.g.&nbsp;cron) job to periodically move the files off the server onto auxiliary storage and/or ensure that the volume they are stored on has sufficient capacity.</p>
</section>
</section>
<section id="r-session-auditing" class="level3">
<h3 class="anchored" data-anchor-id="r-session-auditing">R Session Auditing</h3>
<p>RStudio Workbench can be optionally configured to write an audit log of session related events (e.g.&nbsp;login/logout, session start/suspend/exit) to a central location (the <code>/var/lib/rstudio-server/audit/r-sessions</code> directory by default). This feature can be enabled using the <code>audit-r-sessions</code> setting. For example:</p>
<p><em>/etc/rstudio/rserver.conf</em></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode ini"><code class="sourceCode ini"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="dt">audit-r-sessions</span><span class="ot">=</span><span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note that this is enabled by default if you are using named user licenses.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Session auditing is only supported for RStudio IDE R Sessions and is not currently supported for Jupyter or VS Code sessions.</p>
</div>
</div>
<section id="data-format-1" class="level4">
<h4 class="anchored" data-anchor-id="data-format-1">Data Format</h4>
<p>The R session event log is written by default to the file at <code>/var/lib/rstudio-server/audit/r-sessions/r-sessions.csv</code>. The following fields are included:</p>
<table class="table">
<colgroup>
<col style="width: 29%">
<col style="width: 70%">
</colgroup>
<tbody>
<tr class="odd">
<td style="text-align: left;">pid</td>
<td style="text-align: left;">Unix process ID the event is associated with (for auth events this will be the main <code>rserver</code> process, for session events the <code>rsession</code> process).</td>
</tr>
<tr class="even">
<td style="text-align: left;">username</td>
<td style="text-align: left;">Unix user that the event is associated with.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">timestamp</td>
<td style="text-align: left;">Timestamp of event in milliseconds since the epoch.</td>
</tr>
<tr class="even">
<td style="text-align: left;">type</td>
<td style="text-align: left;">Event type (see documentation on event types below).</td>
</tr>
<tr class="odd">
<td style="text-align: left;">data</td>
<td style="text-align: left;">Event data (see documentation on event types below).</td>
</tr>
</tbody>
</table>
<p>The following values are valid for the event <code>type</code> field:</p>
<table class="table">
<colgroup>
<col style="width: 29%">
<col style="width: 70%">
</colgroup>
<tbody>
<tr class="odd">
<td style="text-align: left;">auth_login</td>
<td style="text-align: left;">User logged in to RStudio Workbench; <code>data</code> contains name of admin user if they are impersonating the user</td>
</tr>
<tr class="even">
<td style="text-align: left;">auth_throttled</td>
<td style="text-align: left;">User temporarily blocked due to multiple login attempts (as defined by the option <code>auth-sign-in-throttle-seconds</code>)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">auth_unlicensed</td>
<td style="text-align: left;">User is locked or there is no license available</td>
</tr>
<tr class="even">
<td style="text-align: left;">auth_license_failed</td>
<td style="text-align: left;">User blocked due to a failure in obtaining a license</td>
</tr>
<tr class="odd">
<td style="text-align: left;">auth_logout</td>
<td style="text-align: left;">User logged out of RStudio Workbench</td>
</tr>
<tr class="even">
<td style="text-align: left;">auth_login_failed</td>
<td style="text-align: left;">User login attempt failed because a local account may not exist</td>
</tr>
<tr class="odd">
<td style="text-align: left;">session_start</td>
<td style="text-align: left;">R session started</td>
</tr>
<tr class="even">
<td style="text-align: left;">session_suicide</td>
<td style="text-align: left;">R session exiting due to suicide (internal error)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">session_suspend</td>
<td style="text-align: left;">R session exiting due to suspend</td>
</tr>
<tr class="even">
<td style="text-align: left;">session_file_upload</td>
<td style="text-align: left;">File uploaded from browser to R session; <code>data</code> field contains file name</td>
</tr>
<tr class="odd">
<td style="text-align: left;">session_file_download</td>
<td style="text-align: left;">File downloaded from R session to browser; <code>data</code> field contains file name</td>
</tr>
<tr class="even">
<td style="text-align: left;">session_quit</td>
<td style="text-align: left;">R session exiting due to user quit</td>
</tr>
<tr class="odd">
<td style="text-align: left;">session_exit</td>
<td style="text-align: left;">R session exited</td>
</tr>
<tr class="even">
<td style="text-align: left;">session_admin_suspend</td>
<td style="text-align: left;">Administrator attempt to suspend R session; <code>data</code> field contains administrative user who initiated the event</td>
</tr>
<tr class="odd">
<td style="text-align: left;">session_admin_terminate</td>
<td style="text-align: left;">Administrator attempt to terminate R session ; <code>data</code> field contains administrative user who initiated the event</td>
</tr>
</tbody>
</table>
<p>The default format for the log file is CSV (Comma Separated Values). It’s also possible to write the data to <a href="http://ndjson.org/">Newline Delimited JSON</a> by using the <code>audit-r-sessions-format</code> option. For example:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode ini"><code class="sourceCode ini"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="dt">audit-r-sessions-format</span><span class="ot">=</span><span class="st">json</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note that when using the JSON format the entire file is not a valid JSON object but rather each individual line is one. This follows the Newline Delimited JSON specification supported by several libraries including the R <strong>jsonlite</strong> package.</p>
</section>
<section id="storage-options-1" class="level4">
<h4 class="anchored" data-anchor-id="storage-options-1">Storage Options</h4>
<p>You can customize both the location where audit data is written as well as the maximum amount of R session event data to log (by default this is 1 GB). To specify the root directory for audit data you use the <code>audit-data-path</code> setting. For example:</p>
<p><em>/etc/rstudio/rserver.conf</em></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode ini"><code class="sourceCode ini"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="dt">audit-data-path</span><span class="ot">=</span><span class="st">/audit-data</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note that this path affects the location of both R console auditing and R session auditing data.</p>
<p>To specify the maximum amount of R session event data to log you use the <code>audit-r-sessions-limit-mb</code> setting. For example:</p>
<p><em>/etc/rstudio/rserver.conf</em></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode ini"><code class="sourceCode ini"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="dt">audit-r-sessions-limit-mb</span><span class="ot">=</span><span class="dv">2048</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The default maximum R session event log file size is 1 GB (1024 MB). To configure no limit to the size of files which can be written you set the value to <code>0</code>, for example:</p>
<p><em>/etc/rstudio/rserver.conf</em></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode ini"><code class="sourceCode ini"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="dt">audit-r-sessions-limit-mb</span><span class="ot">=</span><span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If you wish for RStudio to automatically roll the log files once the maximum size is reached, set the <code>audit-r-sessions-limit-months</code> setting. The default is set to 13 months. To set it manually, for example:</p>
<p><em>/etc/rstudio/rserver.conf</em></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode ini"><code class="sourceCode ini"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="dt">audit-r-sessions-limit-months</span><span class="ot">=</span><span class="dv">13</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This will cause log files to be rolled over once the maximum size is reached, and only thirteen months of data will be kept. We do not recommend you change this setting if using named user licenses.</p>
<p>Note that if the month limit is not set, then log files will not be rolled automatically. This means that you should either create a scheduled (e.g.&nbsp;cron) job to periodically move the file off the server onto auxiliary storage and/or ensure that the volume that it is stored on has sufficient capacity.</p>
<p>In any case, the amount of data written to the R session event log file is not large (less than 1 KB per session) so a large number of session events can be stored within the default 1 GB maximum log file size.</p>
</section>
</section>
</section>
<section id="monitoring-configuration" class="level2">
<h2 class="anchored" data-anchor-id="monitoring-configuration">Monitoring Configuration</h2>
<section id="system-and-per-user-resources" class="level3">
<h3 class="anchored" data-anchor-id="system-and-per-user-resources">System and Per-User Resources</h3>
<p>RStudio Workbench monitors the use of resources (CPU, memory, etc.) on both a per-user and system wide basis. By default, monitoring data is written to a set of RRD (<a href="http://oss.oetiker.ch/rrdtool/">http://oss.oetiker.ch/rrdtool/</a>) files and can be viewed using the [Administrative Dashboard].</p>
<p>The storage of system monitoring data requires about 20MB of disk space and the storage of user monitoring data requires about 3.5MB per user. This data is stored by default at <code>/var/lib/rstudio-server/monitor</code>. If you have a large number of users you may wish to specify an alternate volume for monitoring data. You can do this using the <code>monitor-data-path</code> setting. For example:</p>
<p><em>/etc/rstudio/rserver.conf</em></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode ini"><code class="sourceCode ini"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="dt">monitor-data-path</span><span class="ot">=</span><span class="st">/monitor-data</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You also might wish to disable monitoring with RRD entirely. You can do this using the <code>monitor-rrd-enabled</code> setting. For example:</p>
<p><em>/etc/rstudio/rserver.conf</em></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode ini"><code class="sourceCode ini"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="dt">monitor-rrd-enabled</span><span class="ot">=</span><span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note that changes to the configuration will not take effect until the server is restarted.</p>
<section id="analyzing-rrd-files" class="level4">
<h4 class="anchored" data-anchor-id="analyzing-rrd-files">Analyzing RRD files</h4>
<p>The RRD files powering RStudio’s Administrative Dashboard are available for your own analysis, too. You can find them in <code>/var/lib/rstudio-server/monitor/rrd</code> (unless you’ve changed <code>monitor-data-path</code> as described above); they store all the metrics you can see on the dashboard, so you can use the information for your own reports and insights.</p>
<p>More information on how to read and visualize RRD data from R is available in the following blog post:</p>
<p><a href="https://rviews.rstudio.com/2018/06/20/reading-rrd-files/">Reading and analysing log files in the RRD database format</a></p>
</section>
</section>
<section id="using-graphite" class="level3">
<h3 class="anchored" data-anchor-id="using-graphite">Using Graphite</h3>
<p>If you are managing several servers it might be convenient to send server monitoring data to a centralized database and graphing facility as opposed to local RRD files. You can do this by configuring the server to send monitoring data to <a href="http://graphite.wikidot.com/">Graphite</a> (or any other engine compatible with the Carbon protocol). This can be done in addition to or entirely in place of RRD.</p>
<p>There are four settings that control interaction with Graphite:</p>
<table class="table">
<colgroup>
<col style="width: 28%">
<col style="width: 71%">
</colgroup>
<tbody>
<tr class="odd">
<td><strong><code>monitor-graphite-enabled</code></strong></td>
<td>Write monitoring data to Graphite (defaults to <code>0</code>)</td>
</tr>
<tr class="even">
<td><strong><code>monitor-graphite-host</code></strong></td>
<td>Host running Graphite (defaults to <code>127.0.0.1</code>)</td>
</tr>
<tr class="odd">
<td><strong><code>monitor-graphite-port</code></strong></td>
<td>Port Graphite is listening on (defaults to <code>2003</code>)</td>
</tr>
<tr class="even">
<td><strong><code>monitor-graphite-client-id</code></strong></td>
<td>Optional client ID for sender</td>
</tr>
</tbody>
</table>
<p>For example, to enable Graphite monitoring on a remote host with the default Graphite port you would use these settings:</p>
<p><em>/etc/rstudio/rserver.conf</em></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode ini"><code class="sourceCode ini"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="dt">monitor-graphite-enabled</span><span class="ot">=</span><span class="dv">1</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="dt">monitor-graphite-host</span><span class="ot">=</span><span class="dv">134</span><span class="st">.</span><span class="dv">47</span><span class="st">.</span><span class="fl">22.6</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If you are using a service like hosted graphite.com that requires that you provide an API key as part of reporting metrics you can use the <code>monitor-graphite-client-id</code> setting. For example:</p>
<p><em>/etc/rstudio/rserver.conf</em></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode ini"><code class="sourceCode ini"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="dt">monitor-graphite-enabled</span><span class="ot">=</span><span class="dv">1</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="dt">monitor-graphite-host</span><span class="ot">=</span><span class="st">carbon.hostedgraphite.com</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="dt">monitor-graphite-client-id</span><span class="ot">=</span><span class="st">490662a4-1d8c</span><span class="fl">-11e5</span><span class="st">-b06d-000c298f3d04</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note that changes to the configuration will not take effect until the server is restarted.</p>
</section>
</section>
<section id="server-health-checks" class="level2">
<h2 class="anchored" data-anchor-id="server-health-checks">Server Health Checks</h2>
<section id="enabling-health-checks" class="level3">
<h3 class="anchored" data-anchor-id="enabling-health-checks">Enabling Health Checks</h3>
<p>You may wish to periodically poll RStudio Workbench to ensure that it’s still responding to requests as well as to examine various indicators of server load. You can enable a health check endpoint using the <code>server-health-check-enabled</code> setting. For example:</p>
<p><em>/etc/rstudio/rserver.conf</em></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode ini"><code class="sourceCode ini"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="dt">server-health-check-enabled</span><span class="ot">=</span><span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>After restarting the server, the following health-check endpoint will be available:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>http://<span class="kw">&lt;server-address-and-port&gt;</span>/health-check</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>By default, the output of the health check will appear as follows:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode coldfusion"><code class="sourceCode coldfusion"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>active-sessions: 1</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>idle-seconds: 0</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>cpu-percent: 0.0</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>memory-percent: 64.2</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>swap-percent: 0.0</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>load-average: 4.1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="customizing-responses" class="level3">
<h3 class="anchored" data-anchor-id="customizing-responses">Customizing Responses</h3>
<p>The response to the health check is determined by processing a template that includes several variables. The default template is:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode coldfusion"><code class="sourceCode coldfusion"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>active-sessions: #active-sessions#</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>idle-seconds: #idle-seconds#</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>cpu-percent: #cpu-percent#</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>memory-percent: #memory-percent#</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>swap-percent: #swap-percent#</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>load-average: #load-average#</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can customize this template to return an alternate format (e.g.&nbsp;XML or JSON) that is parse-able by an external monitoring system. To do this you simply create a template and copy it to <strong><code>/etc/rstudio/health-check</code></strong> For example, an XML format:</p>
<p><em>/etc/rstudio/health-check</em></p>
<div class="sourceCode" id="cb22"><pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">&lt;?xml</span><span class="ot"> version=</span><span class="st">"1.0"</span><span class="ot"> encoding=</span><span class="st">"UTF-8"</span><span class="fu">?&gt;</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>&lt;<span class="ot">health-check</span><span class="er">&gt;</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="er">&lt;active-sessions&gt;#active-sessions#&lt;/active-sessions&gt;</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="er">&lt;idle-seconds&gt;#idle-seconds#&lt;/idle-seconds&gt;</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="er">&lt;cpu-percent&gt;#cpu-percent#&lt;/cpu-percent&gt;</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="er">&lt;memory-percent&gt;#memory-percent#&lt;/memory-percent&gt;</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="er">&lt;swap-percent&gt;#swap-percent#&lt;/swap-percent&gt;</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="er">&lt;load-average&gt;#load-average#&lt;/load-average&gt;</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;/health-check&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Or a <a href="https://prometheus.io/docs/introduction/overview/">Prometheus</a> endpoint. Prometheus is an open-source systems monitoring and alerting toolkit with a custom input format:</p>
<p><em>/etc/rstudio/health-check</em></p>
<pre><code># HELP active_sessions health_check metric Active RStudio sessions
# TYPE active_sessions gauge
active_sessions #active-sessions#
# HELP idle_seconds health_check metric Time since active RStudio sessions
# TYPE idle_seconds gauge
idle_seconds #idle-seconds#
# HELP cpu_percent health_check metric cpu (percentage)
# TYPE cpu_percent gauge
cpu_percent #cpu-percent#
# HELP memory_percent health_check metric memory used (percentage)
# TYPE memory_percent gauge
memory_percent #memory-percent#
# HELP swap_percent health_check metric swap used (percentage)
# TYPE swap_percent gauge
swap_percent #swap-percent#
# HELP load_average health_check metric cpu load average
# TYPE load_average gauge
load_average #load-average#</code></pre>
</section>
<section id="changing-the-url" class="level3">
<h3 class="anchored" data-anchor-id="changing-the-url">Changing the URL</h3>
<p>It’s also possible to customize the URL used for health checks. RStudio Workbench will use the first file whose name begins with <code>health-check</code> in the <code>/etc/rstudio</code> directory as the template, and require that the full file name be specified in the URL. For example, a health check template located at the following path:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="ex">/etc/rstudio/health-check-B64C900E</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Would be accessed using this URL:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>http://<span class="kw">&lt;server-address-and-port&gt;</span>/health-check-B64C900E</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note that changes to the health check template will not take effect until the server is restarted.</p>
<!-- -->
</section>
</section>
</section>
</main>
<div class="page-navigation page-navigation-docked">
  <div class="nav-page nav-page-previous">
  </div>
  <div class="nav-page nav-page-next">
  </div>
</div>
</div> <!-- /main column -->
</div> <!-- /row -->
</div> <!-- /container fluid -->


</body></html>